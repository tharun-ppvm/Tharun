const mongoose = require('mongoose'); mongoose.connect('mongodb://127.0.0.1:27017/product_catalog', { useNewUrlParser: true,
useUnifiedTopology: true
})
.then(() => console.log('✅ MongoDB connected'))
.catch(err => {
console.error('❌ MongoDB connection error:', err); process.exit(1);
});
const productSchema = new mongoose.Schema({ name: { type: String, required: true },
description: String,
price: { type: Number, required: true }, inStock: { type: Boolean, default: true }
}, { timestamps: true });
const Product = mongoose.model('Product', productSchema); async function main() {
try {
await Product.deleteMany({}); console.log(' Cleared old products'); const newProduct = new Product({ name: 'Smartphone',
description: 'Latest model, 128GB storage', price: 699.99
});
const savedProduct = await newProduct.save(); console.log('➕ Created Product:', savedProduct); const products = await Product.find(); console.log(' All Products:', products);

const foundProduct = await 
Product.findById(savedProduct._id); 
console.log(' Found Product by ID:', foundProduct);
await Product.findByIdAndDelete(savedProduct._id); console.log('❌ Deleted Product by ID:', savedProduct._id); const remaining = await Product.find();
console.log(' Remaining Products after deletion:', remaining);
} catch (error) {
    	     console.error('❌ Error:', error.message);
} finally { mongoose.connection.close();
}
}
main()
